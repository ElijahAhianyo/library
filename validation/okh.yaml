# Open know-how manifest 0.1
---
# The content of this manifest file is licensed under a Creative Commons Attribution 4.0 International License. 
# Licenses for modification and distribution of the hardware, documentation, source-code, etc are stated separately.

# Remove any fields that are not used. Comments (beginning with '#') may also be removed.

# Manifest metadata

# work in progress -- not compatible with yamale validator until all fields have
# been converted

# [ ! ] however! there must be project-link || documentation-home
# ^^ we could check this in an edit of yamale since I know how to do that now ~ SEA

date-created: day(required=False)
date-updated: day(required=False)
manifest-author:
  name: str(required=True)
  affiliation: str(required=False)
  email: regex('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$', required=False)

# manifest-language: [language-code]-[region], ala English-UK. not required but how do we feel abt Klingon-Z

# documentation-language: [language-code]-[region] 

manifest-is-translation: include('manifest-is-translation', required=False)

documentation-is-translation: include('manifest-is-translation', required=False)

# # Properties
title: str(required=True)                    # required | text | A title to identify the thing

description: str(required=True)              # required | paragraph. Longer string??

intended-use: str(required=False)            # recommended | Paragraph

# keywords:                                  # At least one keyword is recommended | text LIST! that's a thing! 
#   - [keyword 1]
#   - [keyword 2]

project-link: regex('http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*\(\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+')

health-safety-notice: str(required=False)    # paragraph

contact:
   name: str(required=False)
   affiliation: str(required=False)
   email: regex('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$', required=False)
#   social:
#     - platform: [value]                    # text, 
#       user-handle: [value]                 # text, 

# contributors:                              # recommended list!!
#   - name: [contributor 1]                  # text
#     affiliation: [value]                   # text
#     email: [value]                         # email address

# image: [value]                             # recommended | absolute or relative path

version: str(required=False)                 # text

development-stage: str(required=False)       # text

made: bool(required=False)                         # boolean - true or false

made-independently: bool(required=False)           # boolean - true or false

standards-used: list(include('standards-used'), required=False)

derivative-of:                               # started work on this, variant + sub but anyone else can finish it
   title: str(required=False)                           # text | Title of the original
#   manifest: [value]                        # URL - Absolute path | OKH manifest location
#   web: [value]                             # URL - Absolute path | web presence location

variant-of:  
   title: str(required=False)                           # text | Title of the original
#   manifest: [value]                        # URL - Absolute path | OKH manifest location
#   web: [value]                             # URL - Absolute path | web presence location

sub:  
   title: str(required=False)                           # text | Title of the original
#   manifest: [value]                        # URL - Absolute path | OKH manifest location
#   web: [value]                             # URL - Absolute path | web presence location

# # License 

# license:                                   # At least one license is required | The format should be an SPDX identifier. See https://spdx.org/licenses/hardware: [value] # recommended | The license under which the hardware is released
#   hardware: [value]                        # recommended | The license under which the documentation is released
#   documentation: [value]                   # recommended | The license under which the documentation is released
#   software: [value]                        # recommended where software is used | The license under which the software is released

licensor: 
   name: str(required=False)                 # should I be concerned that licensor isn't required??
   affiliation: str(required=False)
   email: regex('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$', required=False)

# # Documentation

# documentation-home: [value]               # At least one of the project-link or documentation-home fields is required | absolute path
                                            # again, this is conditionally required and unassume can do a thing here

# archive-download: [value]                 # Absolute or relative path

# design-files:                             # recommended, list
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# schematics:                               # recommended where applicable, list 
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# bom: [value]                              # recommended | absolute or relative path | Direct the maker to the Bill of Materials

# tool-list: [value]                        # recommended | absolute or relative path | Direct the maker to a list of tools required to make the thing

# making-instructions:                      # recommended, list
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# manufacturing-files:                      # recommended where applicable, list
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# risk-assessment:                          # recommended, list 
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# tool-settings:                            # recommended where applicable, list
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# quality-instructions:
#   - path: [value]                         # Absolute or relative path, list
#     title: [value]                        # text

# operating-instructions:                   # recommended, list
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# maintenance-instructions: [value]         # recommended, list
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# disposal-instructions: [value]            # recommended, list
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# software:                                 # recommended where applicable | Source code or executable software that the thing uses
#   - path: [value]                         # Absolute or relative path
#     title: [value]                        # text

# # User defined Fields 
# # Include any custom / extended fields here
---
manifest-is-translation: 
  title: str(required=False) # text | Title of the original
  manifest: include('url-type') # URL - Absolute path | OKH manifest location
  web: include('url-type') # URL - Absolute path | web presence location
  # lang: str(required=False) # language of original [language]-[region] (rework this stat)

standards-used:
  standard-title: str() # Required where used | Title of the standard used in developing the design or documentation
  publisher: str(required=False) # Publisher of the standard
  reference: str(required=False) # Reference indentifier of the standard (e.g. ISO 9001)
  certification: list(include('certification', required=False))
---
url-type: regex('[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)')
---
certification:                         # If certification has been granted confirming compliance with the standard
  certifier: str() # Individual or organisation granting the certification. Use "Self" for self-certification
  date-awarded: day() # Date certification was granted
  link: regex('[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)') # Link to evidence of certification (e.g. certificate). Use an an absolute path to an external resource or an absolute or relative path to evidence within the documentation.
